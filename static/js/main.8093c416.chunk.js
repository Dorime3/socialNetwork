(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[0],{103:function(e,t,n){"use strict";t.a=n.p+"static/media/user.96156881.png"},12:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,a,c=n(130),s=n.n(c).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"c8f4bb25-94f1-4ddf-880b-405bea8616e0"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}))},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(30),a=n(3),c={MessageData:[{message:"HI",id:"1"},{message:"How are you?",id:"2"},{message:"YO",id:"3"}],DialogData:[{name:"Rodion",id:"1",img:"https://i.pinimg.com/originals/30/c9/86/30c986e10703ca3a76f0db7deb5bc1c9.jpg"},{name:"Artem",id:"2",img:"https://i.pinimg.com/originals/30/c9/86/30c986e10703ca3a76f0db7deb5bc1c9.jpg"},{name:"Vlad",id:"3",img:"https://i.pinimg.com/originals/30/c9/86/30c986e10703ca3a76f0db7deb5bc1c9.jpg"},{name:"Sasha",id:"4",img:"https://i.pinimg.com/originals/30/c9/86/30c986e10703ca3a76f0db7deb5bc1c9.jpg"},{name:"Yulia",id:"5",img:"https://i.pinimg.com/originals/30/c9/86/30c986e10703ca3a76f0db7deb5bc1c9.jpg"},{name:"Kamilla",id:"6",img:"https://i.pinimg.com/originals/30/c9/86/30c986e10703ca3a76f0db7deb5bc1c9.jpg"}]},s={addMessage:function(e){return{type:"auth/SEND_MESSAGE",messageBody:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SEND_MESSAGE":var n={message:t.messageBody,id:"7"},s=Object(a.a)(Object(a.a)({},e),{},{MessageData:[].concat(Object(r.a)(e.MessageData),[n])});return s;default:return e}}},131:function(e,t,n){e.exports={person:"Users_person__3aA72"}},166:function(e,t,n){},167:function(e,t,n){},22:function(e,t,n){e.exports={nav:"Navbar_nav__zCxlo",item:"Navbar_item__3tBjH",active:"Navbar_active__2cqTt",friend:"Navbar_friend__2vK_f"}},295:function(e,t,n){"use strict";n.r(t);var r=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,300)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},a=n(0),c=n.n(a),s=n(62),i=n.n(s),o=(n(166),n(36)),u=n(37),l=n(39),d=n(38),f=(n(167),n(11)),p=n(14),j=n(16),b=n(10),h=n(9),g=n.n(h),O=n(15),m=n(30),v=n(3),x=n(12),_=function(e){return x.c.delete("follow/".concat(e)).then((function(e){return e.data}))},S=function(e){return x.c.post("follow/".concat(e),{}).then((function(e){return e.data}))},P=function(e,t){return x.c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},w={users:[],pageSize:10,portionUsers:25,usersCounts:0,currentPage:1,isFetching:!1,isFollowingProgress:[]},E=function(e){return{type:"users/FOLLOW",id:e}},k=function(e){return{type:"users/UNFOLLOW",id:e}},C=function(e){return{type:"users/SET_USERS",users:e}},T=function(e){return{type:"users/SET_CURRENT_PAGE",currentPage:e}},y=function(e){return{type:"users/USERS_COUNTS",usersCounts:e}},A=function(e){return{type:"users/TOGGLE_IS_FETCHING",isFetching:e}},N=function(e,t){return{type:"users/TOGGLE_FOLLOWING_PROGRESS",isFetching:e,id:t}},U=function(){var e=Object(O.a)(g.a.mark((function e(t,n,r,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(!0,n)),e.next=3,r(n);case 3:0==e.sent.resultCode&&(t(N(!1,n)),t(a(n)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW":return Object(v.a)(Object(v.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(v.a)(Object(v.a)({},e),{},{followed:!0}):e}))});case"users/UNFOLLOW":return Object(v.a)(Object(v.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(v.a)(Object(v.a)({},e),{},{followed:!1}):e}))});case"users/SET_USERS":return Object(v.a)(Object(v.a)({},e),{},{users:Object(m.a)(t.users)});case"users/SET_CURRENT_PAGE":return Object(v.a)(Object(v.a)({},e),{},{currentPage:t.currentPage});case"users/USERS_COUNTS":return Object(v.a)(Object(v.a)({},e),{},{usersCounts:t.usersCounts});case"users/TOGGLE_IS_FETCHING":return Object(v.a)(Object(v.a)({},e),{},{isFetching:t.isFetching});case"users/TOGGLE_FOLLOWING_PROGRESS":return Object(v.a)(Object(v.a)({},e),{},{isFollowingProgress:t.isFetching?[].concat(Object(m.a)(e.isFollowingProgress),[t.id]):e.isFollowingProgress.filter((function(e){return e!==t.id}))});default:return e}},L=n(64),R=n(131),I=n.n(R),D=n(103),z=n(1),M=function(e){var t=e.user,n=e.unfollowSuccessThunkAction,r=e.followSuccessThunkAction,a=e.isFollowingProgress;return Object(z.jsxs)("div",{className:I.a.person,children:[Object(z.jsx)(p.b,{to:"/profile/"+t.id,children:Object(z.jsx)("img",{src:t.photos.small?t.photos.small:D.a,alt:"persons photos"})}),Object(z.jsx)("div",{children:t.followed?Object(z.jsx)("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){n(t.id)},children:"Unfollow"}):Object(z.jsx)("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})}),Object(z.jsx)("div",{children:t.name}),Object(z.jsx)("div",{children:t.status}),Object(z.jsx)("div",{children:"country"}),Object(z.jsx)("div",{children:"city"})]},t.id)},G=n(66),H=n(93),B=n(68),W=n.n(B),q=n(132),J=n.n(q),K=function(e){for(var t=Math.ceil(e.usersCounts/e.pageSize),n=Object(a.useState)(1),r=Object(H.a)(n,2),c=r[0],s=r[1],i=(c-1)*e.portionUsers+1,o=c*e.portionUsers,u=[],l=1;l<=t;l++)u.push(l);return Object(z.jsxs)("div",{className:W.a.pagginator,children:[c>1&&Object(z.jsx)("button",{onClick:function(){return s(c-1)},children:"Prev"}),u.filter((function(e){return e>=i&&e<=o})).map((function(t){return Object(z.jsx)("span",{onClick:function(){return e.onPageChanged(t)},className:J()(W.a.page,Object(G.a)({},W.a.selectedPage,e.currentPage===t)),children:t+" "})})),Object(z.jsx)("button",{onClick:function(){return s(c+1)},children:"Next"}),!(Math.ceil(c)==Math.ceil(t/e.portionUsers))&&Object(z.jsx)("button",{onClick:function(){return s(c=t/e.portionUsers)},children:"Lastpage"})]})},Z=function(e){return Object(z.jsxs)("div",{children:[Object(z.jsx)(K,{portionUsers:e.portionUsers,usersCounts:e.usersCounts,pageSize:e.pageSize,onPageChanged:e.onPageChanged,currentPage:e.currentPage}),e.users.map((function(t){return Object(z.jsx)(M,{user:t,unfollowSuccessThunkAction:e.unfollowSuccessThunkAction,followSuccessThunkAction:e.followSuccessThunkAction,isFollowingProgress:e.isFollowingProgress})}))]})},X=n(133),Y=Object(X.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Q=function(e){return e.usersPage.pageSize},V=function(e){return e.usersPage.portionUsers},$=function(e){return e.usersPage.usersCounts},ee=function(e){return e.usersPage.currentPage},te=function(e){return e.usersPage.isFetching},ne=function(e){return e.usersPage.isFollowingProgress},re=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsersThunkAction(t,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkAction(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h2",{children:this.props.pageTitle}),this.props.isFetching?Object(z.jsx)(L.a,{}):null,Object(z.jsx)(Z,{usersCounts:this.props.usersCounts,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,isFollowingProgress:this.props.isFollowingProgress,unfollowSuccessThunkAction:this.props.unfollowSuccessThunkAction,followSuccessThunkAction:this.props.followSuccessThunkAction,portionUsers:this.props.portionUsers})]})}}]),n}(c.a.Component),ae=Object(b.d)(Object(j.b)((function(e){return{users:Y(e),pageSize:Q(e),usersCounts:$(e),currentPage:ee(e),isFetching:te(e),isFollowingProgress:ne(e),portionUsers:V(e)}}),{getUsersThunkAction:function(e,t){return function(){var n=Object(O.a)(g.a.mark((function n(r,a){var c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(A(!0)),r(T(e)),n.next=4,P(e,t);case 4:c=n.sent,r(A(!1)),r(C(c.items)),r(y(c.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},unfollowSuccessThunkAction:function(e){return function(){var t=Object(O.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(n,e,_,k);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},followSuccessThunkAction:function(e){return function(){var t=Object(O.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(n,e,S,E);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(re),ce=function(){return x.c.get("security/get-captcha-url").then((function(e){return e.data}))},se=function(){return x.c.get("auth/me").then((function(e){return e.data}))},ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return x.c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},oe=function(){return x.c.delete("auth/login")},ue=n(34),le={userId:null,email:null,login:null,auth:!1,url:null},de=function(e,t,n,r){return{type:"auth/SET_USER_DATA",data:{userId:e,email:t,login:n,auth:r}}},fe=function(e){return{type:"auth/SET_CAPTCHA_URL",url:e}},pe=function(){return function(){var e=Object(O.a)(g.a.mark((function e(t){var n,r,a,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:(n=e.sent).resultCode===x.b.Success&&(r=n.data,a=r.id,c=r.email,s=r.login,t(de(a,c,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":return Object(v.a)(Object(v.a)({},e),t.data);case"auth/SET_CAPTCHA_URL":return Object(v.a)(Object(v.a)({},e),{},{url:t.url});default:return e}},be=n(88),he=n.n(be),ge=function(e){return Object(z.jsxs)("header",{className:he.a.header,children:[Object(z.jsx)("img",{src:"https://logonoid.com/images/human-rights-logo.png"}),Object(z.jsx)("div",{className:he.a.login,children:e.auth?Object(z.jsxs)("div",{children:[Object(z.jsx)("a",{href:"#",children:e.email})," ",Object(z.jsx)("button",{onClick:e.logoutMe,children:"Logout"})," "]}):Object(z.jsx)(p.b,{to:"/auth",children:"Login"})})]})},Oe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(z.jsx)(ge,Object(v.a)({},this.props))}}]),n}(c.a.Component),me=Object(j.b)((function(e){return{auth:e.auth.auth,email:e.auth.email}}),{logoutMe:function(){return function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:e.sent.data.resultCode===x.b.Success&&t(de(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Oe),ve=n(126),xe=n(127),_e=n(47),Se=n(45),Pe=n(90),we=n.n(Pe),Ee=Object(_e.a)(30),ke=Object(xe.a)({form:"loginForm"})((function(e){var t=e.handleSubmit,n=e.error,r=e.url;return Object(z.jsxs)("form",{onSubmit:t,children:[Object(z.jsx)("div",{children:Object(z.jsx)(ve.a,{name:"email",component:Se.a,placeholder:"Login",validate:[_e.b,Ee]})}),Object(z.jsx)("div",{children:Object(z.jsx)(ve.a,{name:"password",component:Se.a,placeholder:"Password",validate:[_e.b],type:"password"})}),Object(z.jsxs)("div",{children:[Object(z.jsx)(ve.a,{name:"rememberMe",component:Se.a,type:"checkbox"})," remember me"]}),n&&Object(z.jsx)("div",{className:we.a.summaryError,children:n}),r&&Object(z.jsx)("img",{src:r,alt:"captcha",className:we.a.captchaImg}),r&&Object(z.jsx)(ve.a,{name:"captcha",component:Se.a,placeholder:"captcha",validate:[_e.b]}),Object(z.jsx)("div",{children:Object(z.jsx)("button",{children:"Login"})})]})})),Ce=Object(j.b)((function(e){return{isAuth:e.auth.auth,url:e.auth.url}}),{loginMe:function(e,t,n,r){return function(){var a=Object(O.a)(g.a.mark((function a(c){var s,i,o,u;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ie(e,t,n,r);case 2:if((s=a.sent).data.resultCode!==x.b.Success){a.next=7;break}c(pe()),a.next=15;break;case 7:if(s.data.resultCode!==x.a.CaptchaIsRequired){a.next=13;break}return a.next=10,ce();case 10:i=a.sent,o=i.url,c(fe(o));case 13:u=Object(ue.a)("loginForm",{_error:s.data.messages[0]}),c(u);case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(z.jsx)(f.a,{to:"/profile"}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h1",{children:"Login"}),Object(z.jsx)(ke,{onSubmit:function(t){e.loginMe(t.email,t.password,t.rememberMe,t.captcha)},url:e.url})]})})),Te={inizialized:!1,globalError:null},ye=function(){return{type:"INIZIALIZED_APP"}},Ae=function(e){return{type:"GET_ERROR",error:e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIZIALIZED_APP":return Object(v.a)(Object(v.a)({},e),{},{inizialized:!0});case"GET_ERROR":return Object(v.a)(Object(v.a)({},e),{},{globalError:t.error});default:return e}},Ue=n(94),Fe=n(125),Le={friends:[{name:"Serega",avatar:"https://tattoo-stickers.ru/34939-thickbox_default/nichosi.jpg"},{name:"Semen",avatar:"https://tattoo-stickers.ru/34939-thickbox_default/nichosi.jpg"},{name:"Masha",avatar:"https://tattoo-stickers.ru/34939-thickbox_default/nichosi.jpg"}]},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=Object(v.a)({},e);return t},Ie=n(136),De=n(128),ze=Object(b.c)({profilePage:Ue.b,dialogsPage:Fe.b,sidebar:Re,usersPage:F,auth:je,form:De.a,app:Ne}),Me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.d,Ge=Object(b.e)(ze,Me(Object(b.a)(Ie.a)));var He=function(e){return function(t){return Object(z.jsx)(c.a.Suspense,{fallback:Object(z.jsx)("div",{children:"Loading..."}),children:Object(z.jsx)(e,Object(v.a)({},t))})}},Be=n(22),We=n.n(Be),qe=function(e){return Object(z.jsxs)("nav",{className:We.a.nav,children:[Object(z.jsx)("div",{className:We.a.item,children:Object(z.jsx)(p.b,{to:"/profile",activeClassName:We.a.active,children:"Profile"})}),Object(z.jsx)("div",{className:We.a.item,children:Object(z.jsx)(p.b,{to:"/dialogs",activeClassName:We.a.active,children:"Messages"})}),Object(z.jsx)("div",{className:We.a.item,children:Object(z.jsx)(p.b,{to:"/users",activeClassName:We.a.active,children:"Users"})}),Object(z.jsx)("div",{className:We.a.item,children:Object(z.jsx)(p.b,{to:"/#",children:"News"})}),Object(z.jsx)("div",{className:We.a.item,children:Object(z.jsx)(p.b,{to:"/#",children:"Music"})}),Object(z.jsx)("div",{className:We.a.item,children:Object(z.jsx)(p.b,{to:"/#",children:"Settings"})}),Object(z.jsx)("div",{className:We.a.item,children:Object(z.jsx)(p.b,{to:"#",children:"Friends"})})]})},Je=c.a.lazy((function(){return n.e(3).then(n.bind(null,301))})),Ke=c.a.lazy((function(){return n.e(4).then(n.bind(null,302))})),Ze=He(Je),Xe=He(Ke),Ye=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandleRejection=function(t){console.warn("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435: \u041d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 Promise. \u041f\u043e\u0437\u043e\u0440 \u0432\u0430\u043c! \u041f\u0440\u0438\u0447\u0438\u043d\u0430: "+t.reason),e.props.showGetError(t.reason.message)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.inizializedApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandleRejection)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandleRejection)}},{key:"render",value:function(){return this.props.inizialized?Object(z.jsxs)("div",{className:"app-wrapper",children:[Object(z.jsx)(me,{}),Object(z.jsx)(qe,{}),Object(z.jsx)("div",{className:"app-wrapper-content",children:Object(z.jsxs)(f.d,{children:[Object(z.jsx)(f.b,{exact:!0,path:"/",render:function(){return Object(z.jsx)(f.a,{to:"/profile"})}}),Object(z.jsx)(f.b,{path:"/profile/:userId?",render:function(){return Object(z.jsx)(Ze,{})}}),Object(z.jsx)(f.b,{path:"/dialogs",render:function(){return Object(z.jsx)(Xe,{})}}),Object(z.jsx)(f.b,{path:"/users",render:function(){return Object(z.jsx)(ae,{pageTitle:"\u0421\u0430\u043c\u0443\u0440\u0430\u0438"})}}),Object(z.jsx)(f.b,{path:"/auth",render:function(){return Object(z.jsx)(Ce,{})}}),Object(z.jsx)(f.b,{path:"/*",render:function(){return Object(z.jsx)("div",{children:"404 NOT FOUND"})}})]})})]}):Object(z.jsx)(L.a,{})}}]),n}(c.a.Component),Qe=Object(b.d)(Object(j.b)((function(e){return{inizialized:e.app.inizialized,globalError:e.app.globalError}}),{inizializedApp:function(){return function(e){var t=e(pe());Promise.all([t]).then((function(){return e(ye())}))}},showGetError:function(e){return function(t){t(Ae(e)),setTimeout((function(){return t(Ae(null))}),5e3)}}}))(Ye),Ve=function(){return Object(z.jsx)(p.a,{basename:"/socialNetwork",children:Object(z.jsx)(j.a,{store:Ge,children:Object(z.jsx)(Qe,{})})})};i.a.render(Object(z.jsx)(Ve,{}),document.getElementById("root")),r()},45:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(3),a=(n(0),n(89)),c=n.n(a),s=n(1),i=function(e){return function(t){var n=t.meta.touched&&t.meta.error;return Object(s.jsxs)("div",{className:c.a.formControl+" "+(n?c.a.error:""),children:[Object(s.jsx)("div",{children:Object(s.jsx)(e,Object(r.a)(Object(r.a)({},t.input),t))}),n&&Object(s.jsx)("span",{children:t.meta.error})]})}},o=i("textarea"),u=i("input")},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"this field is required"},a=function(e){return function(t){if(t.length>e)return"this field consists more then ".concat(e," symbols")}}},64:function(e,t,n){"use strict";n(0);var r=n.p+"static/media/preloader.af2ae354.svg",a=n(1);t.a=function(){return Object(a.jsx)("div",{style:{width:"400px"},children:Object(a.jsx)("img",{src:r,alt:"preloader"})})}},68:function(e,t,n){e.exports={selectedPage:"Pagginator_selectedPage__1HJkp",page:"Pagginator_page__1Rgo8",pagginator:"Pagginator_pagginator__36OQg"}},88:function(e,t,n){e.exports={header:"Header_header__12PQl",login:"Header_login__1JKkX"}},89:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3h0_a",error:"FormsControls_error__3Ho4e"}},90:function(e,t,n){e.exports={summaryError:"Login_summaryError__1_Nyg",captchaImg:"Login_captchaImg__20HTP"}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return x}));var r=n(9),a=n.n(r),c=n(15),s=n(30),i=n(3),o=n(34),u=n(12),l=function(e){return u.c.get("profile/".concat(e)).then((function(e){return e.data}))},d=function(e){return u.c.get("/profile/status/".concat(e)).then((function(e){return e.data}))},f=function(e){return u.c.put("/profile/status",{status:e}).then((function(e){return e.data}))},p=function(e){var t=new FormData;return t.append("image",e),u.c.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},j=function(e){return u.c.put("profile",e).then((function(e){return e.data}))},b={PostData:[{id:1,message:"Hi, how are you?",likesCount:"12 likes"},{id:2,message:"It's my first post",likesCount:"0 likes"},{id:3,message:"Blabla",likesCount:"0 likes"},{id:4,message:"Blabla",likesCount:"0 likes"}],userProfile:null,status:""},h={addPostActionCreator:function(e){return{type:"profile/ADD_POST",newMessagePost:e}},setUserProfile:function(e){return{type:"profile/SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"profile/SET_USER_STATUS",status:e}},deletePost:function(e){return{type:"profile/DELETE_POST",postId:e}},setPhotoSuccess:function(e){return{type:"profile/SET_PHOTO",file:e}}},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:r=t.sent,n(h.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:r=t.sent,n(h.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(e);case 3:0===t.sent.resultCode&&n(h.setStatus(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0.response.status);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:0===(r=t.sent).resultCode&&n(h.setPhotoSuccess(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:if(c=t.sent,s=r().auth.userId,0!==c.resultCode){t.next=8;break}n(g(s)),t.next=11;break;case 8:return i=Object(o.a)("profileDataForm",{_error:c.messages[0]}),n(i),t.abrupt("return",Promise.reject(c.messages[0]));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/ADD_POST":var n={id:5,message:t.newMessagePost,likesCount:"0 likes"},r=Object(i.a)(Object(i.a)({},e),{},{PostData:[].concat(Object(s.a)(e.PostData),[n])});return r;case"profile/SET_USER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{userProfile:t.profile});case"profile/SET_USER_STATUS":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case"profile/DELETE_POST":return Object(i.a)(Object(i.a)({},e),{},{PostData:Object(s.a)(e.PostData).filter((function(e){return e.id!==t.postId}))});case"profile/SET_PHOTO":return Object(i.a)(Object(i.a)({},e),{},{userProfile:Object(i.a)(Object(i.a)({},e.userProfile),{},{photos:t.file})});default:return e}}}},[[295,1,2]]]);
//# sourceMappingURL=main.8093c416.chunk.js.map