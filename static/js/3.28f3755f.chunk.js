(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{391:function(e,t,c){e.exports={avatar:"ProfileInfo_avatar__2Yk7L",head:"ProfileInfo_head__9WxNB",profileData:"ProfileInfo_profileData__3gtxR",profileContacts:"ProfileInfo_profileContacts__3EpLK",summaryError:"ProfileInfo_summaryError__3qACz"}},393:function(e,t,c){e.exports={posts:"MyPosts_posts__3bWYx",postBlock:"MyPosts_postBlock__1oFRX"}},394:function(e,t,c){e.exports={item:"Post_item__A0k-V"}},396:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(15),o=c(7),r=c(391),i=c.n(r),a=c(157),j=c(156),l=c(2),b=function(e){var t=Object(s.useState)(!1),c=Object(o.a)(t,2),r=c[0],i=c[1],a=Object(s.useState)(e.status),b=Object(o.a)(a,2),d=b[0],u=b[1];Object(s.useEffect)((function(){u(e.status)}),[!e.status]);var O=Object(n.c)();return Object(l.jsxs)(l.Fragment,{children:[!r&&Object(l.jsx)("div",{children:Object(l.jsx)("span",{onDoubleClick:function(){i(!0)},children:d||"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?"})}),r&&Object(l.jsx)("div",{children:Object(l.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){i(!1),O(Object(j.e)(d))},autoFocus:!0,value:d})})]})},d=function(e){var t=e.title,c=e.value;return Object(l.jsxs)("div",{className:i.a.profileContacts,children:[Object(l.jsxs)("b",{children:[t,":"]})," ",c]})},u=function(e){var t=e.profile,c=e.isOwner,s=e.toEditMode;return Object(l.jsxs)("div",{className:i.a.profileData,children:[c&&Object(l.jsx)("button",{onClick:s,children:"edit"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Full name:"})," ",t.fullName]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Looking for a job:"})," ",t.lookingForAJob?"yea":"no"]}),t.lookingForAJob&&Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"My professional skills:"}),t.lookingForAJobDescription]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"About me:"})," ",t.aboutMe]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(l.jsx)(d,{title:e,value:t.contacts[e]},e)}))]})]})},O=c(187),f=c(188),h=c(87),p=function(e){return Object(l.jsxs)("div",{className:i.a.profileContacts,children:[Object(l.jsx)("b",{children:e.title}),Object(l.jsx)(O.a,{name:"contacts."+e.title,component:h.a,placeholder:e.title})]})},x=Object(f.a)({form:"profileDataForm"})((function(e){return Object(l.jsxs)("form",{className:i.a.profileData,onSubmit:e.handleSubmit,children:[Object(l.jsx)("div",{children:Object(l.jsx)("button",{children:"save"})}),e.error&&Object(l.jsx)("div",{className:i.a.summaryError,children:e.error}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Full name:"}),Object(l.jsx)(O.a,{name:"fullName",component:h.a,placeholder:"enter your name"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Are you look for a job?"}),Object(l.jsx)(O.a,{name:"lookingForAJob",component:h.a,type:"checkbox"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"My professional skills:"}),Object(l.jsx)(O.a,{name:"lookingForAJobDescription",component:h.b,placeholder:"Describe your professional skills"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"About me:"}),Object(l.jsx)(O.a,{name:"aboutMe",component:h.b,placeholder:"About me"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Contacts:"}),Object.keys(e.profile.contacts).map((function(e){return Object(l.jsx)(p,{title:e},e)}))]})]})})),m=function(e){var t=Object(n.d)((function(e){return e.profilePage.status})),c=Object(n.d)((function(e){return e.app.globalError})),r=Object(n.c)(),d=Object(s.useState)(!1),O=Object(o.a)(d,2),f=O[0],h=O[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:i.a.avatar,children:[Object(l.jsx)("img",{alt:"avatar",src:e.profile.photos.large?e.profile.photos.large:a.a}),e.isOwner&&Object(l.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&r(Object(j.f)(e.target.files[0]))}}),Object(l.jsx)(b,{status:t}),c&&Object(l.jsx)("div",{children:c})]}),f?Object(l.jsx)(x,{initialValues:e.profile,onSubmit:function(e){r(Object(j.d)(e)),h(!1)},profile:e.profile,isOwner:e.isOwner}):Object(l.jsx)(u,{profile:e.profile,isOwner:e.isOwner,toEditMode:function(){h(!0)}})]})},v=c(393),g=c.n(v),k=c(89),P=c(394),_=c.n(P),C=function(e){return Object(l.jsxs)("div",{className:_.a.item,children:[Object(l.jsx)("img",{src:"https://i.pinimg.com/originals/a0/a9/77/a0a977805b7adf3522f790b703558afa.jpg"}),e.message,Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:e.likesCount})}),Object(l.jsx)("button",{onClick:function(){return e.deletePostMessage(e.id)},children:"delete this"})]})},y=Object(k.a)(30),A=Object(f.a)({form:"addProfilePost"})((function(e){return Object(l.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(l.jsx)("div",{children:Object(l.jsx)(O.a,{name:"addPost",component:h.b,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[k.b,y]})}),Object(l.jsx)("button",{children:"Add post"})]})})),N=function(e){var t=function(t){e.deletePost(t)},c=e.posts.reverse().map((function(e){return Object(l.jsx)(C,{id:e.id,message:e.message,likesCount:e.likesCount,deletePostMessage:t},e.id)}));return Object(l.jsxs)("div",{className:g.a.postBlock,children:[Object(l.jsx)("h3",{children:"MyPosts"}),Object(l.jsx)(A,{onSubmit:function(t){e.addPostActionCreator(t.addPost)}}),Object(l.jsx)("div",{className:g.a.posts,children:c})]})},w=j.a.addPostActionCreator,F=j.a.deletePost,M=Object(n.b)((function(e){return{posts:e.profilePage.PostData}}),{addPostActionCreator:w,deletePost:F})(N),D=c(112),E=function(e){var t=Object(n.d)((function(e){return e.profilePage.userProfile}));return t?Object(l.jsxs)("div",{children:[Object(l.jsx)(m,{profile:t,isOwner:!e.isOwner}),Object(l.jsx)(M,{})]}):Object(l.jsx)(D.a,{})},I=c(19),S=c(21);t.default=Object(S.d)(I.h)((function(e){var t=Object(n.d)((function(e){return e.auth.userId})),c=Object(n.c)(),o=function(){var s=e.match,n=e.history,o=+s.params.userId;o||(o=t)||n.push("/auth"),c(Object(j.g)(o)),c(Object(j.c)(o))};return Object(s.useEffect)((function(){o()}),[]),Object(s.useEffect)((function(){o()}),[e.match.params.userId]),Object(l.jsx)(E,{isOwner:+e.match.params.userId})}))}}]);
//# sourceMappingURL=3.28f3755f.chunk.js.map